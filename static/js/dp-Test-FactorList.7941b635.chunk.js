"use strict";(self.webpackChunkmind=self.webpackChunkmind||[]).push([[848,401,108,228],{934:function(e,t,r){r.r(t);var n=r(6515),a=r(3508),c=r(3032),s=r(3430),i=r(2791),u=r(5897),o=r(419),l=r(8894),d=r(8361),f=r(6106),x=r(9034),h=r(7856),Z=r(1226),p=r(184);t.default=function(e){var t=e.visible,r=e.handleClose,v=e.factorId,b=e.refreshTable,I=e.testId,m=u.Z.useForm(),j=(0,s.Z)(m,1)[0],y=(0,i.useState)(!1),g=(0,s.Z)(y,2),k=g[0],w=g[1],F=(0,i.useState)([]),T=(0,s.Z)(F,2),M=T[0],P=T[1],A=(0,i.useState)([]),B=(0,s.Z)(A,2),R=B[0],q=B[1];(0,i.useEffect)((function(){null!==v&&(w(!0),(0,h.A_)("".concat(Z.Bu.factor).concat(v)).then((function(e){j.setFieldsValue(e.data)})).catch((function(e){o.ZP.error("\u0410\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430. ".concat(e.Message))})).finally((function(){return w(!1)})))}),[v]),(0,i.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,h.A_)("".concat(Z.dz.enum,"/EFactorType")).then((function(e){P(e.data)})).catch((function(e){o.ZP.error(e.Message)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,h.A_)("".concat(Z.dz.enum,"/EStatus")).then((function(e){q(e.data)})).catch((function(e){o.ZP.error(e.Message)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[]);var C=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.validateFields().then(function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!0),!v){e.next=6;break}return e.next=4,(0,h.GH)(Z.Bu.factor,(0,n.Z)((0,n.Z)({},t),{},{factorId:v,testId:I}));case 4:e.next=8;break;case 6:return e.next=8,(0,h.j0)(Z.Bu.factor,(0,n.Z)((0,n.Z)({},t),{},{testId:I}));case 8:o.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430."),b(),w(!1),r();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){o.ZP.error(e.Message),w(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsx)(l.Z,{visible:t,title:v?"\u0425\u04af\u0447\u0438\u043d \u0437\u04af\u0439\u043b \u0437\u0430\u0441\u0430\u0445":"\u0425\u04af\u0447\u0438\u043d \u0437\u04af\u0439\u043b \u043d\u044d\u043c\u044d\u0445",placement:"right",closable:!1,onClose:function(){r(),j.resetFields()},width:400,footer:(0,p.jsx)("div",{style:{textAlign:"right"},children:(0,p.jsx)(x.op,{onClick:function(){return C()}})}),children:(0,p.jsx)(d.Z,{loading:k,children:(0,p.jsx)(u.Z,{layout:"vertical",hideRequiredMark:!0,scrollToFirstError:!0,form:j,children:(0,p.jsxs)(f.Z,{justify:"center",gutter:32,children:[(0,p.jsx)(x.xJ,{label:"\u041d\u044d\u0440",name:"name",required:!0}),(0,p.jsx)(x.xJ,{itemType:"select",label:"\u0425\u04af\u0447\u0438\u043d \u0437\u04af\u0439\u043b\u0438\u0439\u043d \u0442\u04e9\u0440\u04e9\u043b",name:"factorType",dtsrc:M,required:!0}),(0,p.jsx)(x.xJ,{label:"\u0411\u043e\u043b\u043e\u043c\u0436\u0438\u0442 \u043e\u043d\u043e\u043e",name:"scorePossible",itemType:"number",required:!0}),(0,p.jsx)(x.xJ,{label:"\u042d\u0440\u044d\u043c\u0431\u044d",name:"orderNo",itemType:"number",required:!0}),(0,p.jsx)(x.xJ,{itemType:"select",label:"\u0422\u04e9\u043b\u04e9\u0432",name:"status",dtsrc:R,required:!0})]})})})},"factor")}},4523:function(e,t,r){r.r(t);var n=r(3430),a=r(2791),c=r(7528),s=r(9034),i=r(1226),u=r(934),o=r(6623),l=r(184);t.default=function(e){var t=e.refresh,r=e.setRefresh,d=e.testId,f=(0,a.useState)({visible:!1,factorId:null}),x=(0,n.Z)(f,2),h=x[0],Z=x[1],p=[{title:"\u041d\u044d\u0440",dataIndex:"name"},{title:"\u0425\u04af\u0447\u0438\u043d \u0437\u04af\u0439\u043b\u0438\u0439\u043d \u0442\u04e9\u0440\u04e9\u043b",textAlign:"left",dataIndex:"factorType"},{title:"\u0411\u043e\u043b\u043e\u043c\u0436\u0438\u0442 \u043e\u043d\u043e\u043e",textAlign:"center",dataIndex:"scorePossible"},{title:"\u042d\u0440\u044d\u043c\u0431\u044d",textAlign:"center",dataIndex:"orderNo"},{title:"\u0422\u04e9\u043b\u04e9\u0432",dataIndex:"status",render:function(e){return"A"===e?(0,l.jsx)(c.Z,{color:"blue",children:"\u0418\u0434\u044d\u0432\u0445\u0442\u044d\u0439"}):"I"===e?(0,l.jsx)(c.Z,{color:"red",children:"\u0418\u0434\u044d\u0432\u0445\u0433\u04af\u0439"}):null}}];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.Gi,{title:"\u0425\u04af\u0447\u0438\u043d \u0437\u04af\u0439\u043b\u0441\u0438\u0439\u043d \u0436\u0430\u0433\u0441\u0430\u0430\u043b\u0442",primaryKey:["factorId"],columns:p,endpoint:i.Bu.factor,endpoints:i.Bu.factors,addFunc:function(){return Z({factorId:null,visible:!0})},onEdit:function(e){return Z({factorId:e,visible:!0})},refresh:t,expandable:{expandedRowRender:function(e){return(0,l.jsx)(o.default,{factorId:e.factorId})}},rowKey:function(e){return e.factorId}}),(0,l.jsx)(u.default,{visible:h.visible,factorId:h.factorId,handleClose:function(){return Z({factorId:null,visible:!1})},refreshTable:r,testId:d})]})}},7180:function(e,t,r){r.r(t);var n=r(3508),a=r(6515),c=r(3032),s=r(3430),i=r(2791),u=r(5897),o=r(419),l=r(8894),d=r(8361),f=r(6106),x=r(9034),h=r(7856),Z=r(1226),p=r(184);t.default=function(e){var t=e.visible,r=e.factorId,v=e.resultId,b=e.handleClose,I=e.refreshTable,m=u.Z.useForm(),j=(0,s.Z)(m,1)[0],y=(0,i.useState)(!1),g=(0,s.Z)(y,2),k=g[0],w=g[1];(0,i.useEffect)((function(){null!==v&&(w(!0),(0,h.A_)("".concat(Z.Bu.factorResult).concat(v)).then((function(e){j.setFieldsValue(e.data)})).catch((function(e){o.ZP.error("\u0410\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430. ".concat(e.Message))})).finally((function(){return w(!1)})))}),[v]);var F=function(){var e=(0,c.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.validateFields().then(function(){var e=(0,c.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!0),!v){e.next=6;break}return e.next=4,(0,h.GH)(Z.Bu.factorResult,(0,a.Z)((0,a.Z)({},t),{},{factorId:r,resultId:v}));case 4:e.next=8;break;case 6:return e.next=8,(0,h.j0)(Z.Bu.factorResult,(0,a.Z)((0,a.Z)({},t),{},{factorId:r}));case 8:o.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430."),I(),w(!1),b();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){o.ZP.error(e.Message),w(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsx)(l.Z,{visible:t,title:v?"\u0425\u04af\u0447\u0438\u043d \u0437\u04af\u0439\u043b\u0438\u0439\u043d \u04af\u0440 \u0434\u04af\u043d \u0437\u0430\u0441\u0430\u0445":"\u0425\u04af\u0447\u0438\u043d \u0437\u04af\u0439\u043b\u0438\u0439\u043d \u04af\u0440 \u0434\u04af\u043d \u043d\u044d\u043c\u044d\u0445",placement:"right",closable:!1,onClose:function(){b(),j.resetFields()},width:400,footer:(0,p.jsx)("div",{style:{textAlign:"right"},children:(0,p.jsx)(x.op,{onClick:function(){return F()}})}),children:(0,p.jsx)(d.Z,{loading:k,children:(0,p.jsx)(u.Z,{layout:"vertical",hideRequiredMark:!0,scrollToFirstError:!0,form:j,children:(0,p.jsxs)(f.Z,{justify:"center",gutter:32,children:[(0,p.jsx)(x.xJ,{label:"\u0422\u0430\u0439\u043b\u0431\u0430\u0440",name:"desc",required:!0}),(0,p.jsx)(x.xJ,{label:"\u0414\u043e\u043e\u0434 \u043e\u043d\u043e\u043e",name:"scoreMin",itemType:"number",required:!0}),(0,p.jsx)(x.xJ,{label:"\u0414\u044d\u044d\u0434 \u043e\u043d\u043e\u043e",name:"scoreMax",itemType:"number",required:!0})]})})})},"factor")}},6623:function(e,t,r){r.r(t);var n=r(3430),a=r(2791),c=r(419),s=r(7856),i=r(1226),u=r(9034),o=r(7180),l=r(184);t.default=function(e){var t=e.factorId,r=(0,a.useState)(!1),d=(0,n.Z)(r,2),f=d[0],x=d[1],h=(0,a.useState)(!1),Z=(0,n.Z)(h,2),p=(Z[0],Z[1]),v=(0,a.useState)([]),b=(0,n.Z)(v,2),I=(b[0],b[1]),m=(0,a.useState)({visible:!1,resultId:null}),j=(0,n.Z)(m,2),y=j[0],g=j[1];return(0,a.useEffect)((function(){null!==t&&(p(!0),(0,s.A_)(i.Bu.factorResults,{factorId:t,Pid:1,Psize:100}).then((function(e){I(e.data.results),console.log(e.data.results)})).catch((function(e){c.ZP.error("\u0410\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430. ".concat(e.Message))})).finally((function(){return p(!1)})))}),[t,f]),(0,l.jsxs)("div",{style:{padding:"10px 40px"},children:[(0,l.jsx)(u.Gi,{title:"\u0425\u04af\u0447\u0438\u043d \u0437\u04af\u0439\u043b\u0438\u0439\u043d \u04af\u0440 \u0434\u04af\u043d",primaryKey:["resultId"],columns:[{title:"\u0422\u0430\u0439\u043b\u0431\u0430\u0440",dataIndex:"desc",align:"center"},{title:"\u0414\u043e\u043e\u0434 \u043e\u043d\u043e\u043e",dataIndex:"scoreMin",align:"center"},{title:"\u0414\u044d\u044d\u0434 \u043e\u043d\u043e\u043e",dataIndex:"scoreMax",align:"center"}],endpoint:i.Bu.factorResult,endpoints:i.Bu.factorResults,addFunc:function(){return g({resultId:null,visible:!0})},onEdit:function(e){return g({resultId:e,visible:!0})},otherFilters:{factorId:t},refresh:f}),(0,l.jsx)(o.default,{visible:y.visible,factorId:t,resultId:y.resultId,handleClose:function(){return g({resultId:null,visible:!1})},refreshTable:function(){return x(!f)}})]})}}}]);
//# sourceMappingURL=dp-Test-FactorList.7941b635.chunk.js.map