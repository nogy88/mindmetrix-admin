"use strict";(self.webpackChunkmind=self.webpackChunkmind||[]).push([[401],{934:function(e,t,n){n.r(t);var r=n(6515),c=n(3508),a=n(3032),s=n(3430),u=n(2791),i=n(5897),o=n(419),f=n(8894),l=n(8361),d=n(6106),p=n(9034),h=n(7856),Z=n(1226),x=n(184);t.default=function(e){var t=e.visible,n=e.handleClose,m=e.factorId,v=e.refreshTable,b=e.testId,y=i.Z.useForm(),j=(0,s.Z)(y,1)[0],k=(0,u.useState)(!1),w=(0,s.Z)(k,2),g=w[0],T=w[1],q=(0,u.useState)([]),F=(0,s.Z)(q,2),P=F[0],C=F[1],E=(0,u.useState)([]),I=(0,s.Z)(E,2),J=I[0],M=I[1];(0,u.useEffect)((function(){null!==m&&(T(!0),(0,h.A_)("".concat(Z.Bu.factor).concat(m)).then((function(e){j.setFieldsValue(e.data)})).catch((function(e){o.ZP.error("\u0410\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430. ".concat(e.Message))})).finally((function(){return T(!1)})))}),[m]),(0,u.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,h.A_)("".concat(Z.dz.enum,"/EFactorType")).then((function(e){C(e.data)})).catch((function(e){o.ZP.error(e.Message)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=(0,a.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,h.A_)("".concat(Z.dz.enum,"/EStatus")).then((function(e){M(e.data)})).catch((function(e){o.ZP.error(e.Message)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[]);var A=function(){var e=(0,a.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.validateFields().then(function(){var e=(0,a.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(!0),!m){e.next=6;break}return e.next=4,(0,h.GH)(Z.Bu.factor,(0,r.Z)((0,r.Z)({},t),{},{factorId:m,testId:b}));case 4:e.next=8;break;case 6:return e.next=8,(0,h.j0)(Z.Bu.factor,(0,r.Z)((0,r.Z)({},t),{},{testId:b}));case 8:o.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430."),v(),T(!1),n();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){o.ZP.error(e.Message),T(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,x.jsx)(f.Z,{visible:t,title:m?"\u0425\u04af\u0447\u0438\u043d \u0437\u04af\u0439\u043b \u0437\u0430\u0441\u0430\u0445":"\u0425\u04af\u0447\u0438\u043d \u0437\u04af\u0439\u043b \u043d\u044d\u043c\u044d\u0445",placement:"right",closable:!1,onClose:function(){n(),j.resetFields()},width:400,footer:(0,x.jsx)("div",{style:{textAlign:"right"},children:(0,x.jsx)(p.op,{onClick:function(){return A()}})}),children:(0,x.jsx)(l.Z,{loading:g,children:(0,x.jsx)(i.Z,{layout:"vertical",hideRequiredMark:!0,scrollToFirstError:!0,form:j,children:(0,x.jsxs)(d.Z,{justify:"center",gutter:32,children:[(0,x.jsx)(p.xJ,{label:"\u041d\u044d\u0440",name:"name",required:!0}),(0,x.jsx)(p.xJ,{itemType:"select",label:"\u0425\u04af\u0447\u0438\u043d \u0437\u04af\u0439\u043b\u0438\u0439\u043d \u0442\u04e9\u0440\u04e9\u043b",name:"factorType",dtsrc:P,required:!0}),(0,x.jsx)(p.xJ,{label:"\u0411\u043e\u043b\u043e\u043c\u0436\u0438\u0442 \u043e\u043d\u043e\u043e",name:"scorePossible",itemType:"number",required:!0}),(0,x.jsx)(p.xJ,{label:"\u042d\u0440\u044d\u043c\u0431\u044d",name:"orderNo",itemType:"number",required:!0}),(0,x.jsx)(p.xJ,{itemType:"select",label:"\u0422\u04e9\u043b\u04e9\u0432",name:"status",dtsrc:J,required:!0})]})})})},"factor")}}}]);
//# sourceMappingURL=dp-Test-FactorForm.6e5d2549.chunk.js.map