"use strict";(self.webpackChunkmind=self.webpackChunkmind||[]).push([[885],{602:function(e,r,t){t.r(r);var n=t(3508),l=t(3032),a=t(3430),s=t(2791),i=t(7689),u=t(5897),d=t(419),o=t(6106),c=t(914),x=t(1624),f=t(7083),p=t(9034),m=t(7856),h=t(1226),j=t(8581),v=t(184);r.default=function(){var e=(0,i.s0)(),r=(0,i.UO)().userId,t=u.Z.useForm(),b=(0,a.Z)(t,1)[0],Z=(0,s.useState)({loading:!1,mode:"NEW",data:{}}),y=(0,a.Z)(Z,2),g=y[0],N=y[1],w=[{icon:"IdcardOutlined",href:null,text:"\u0410\u0434\u043c\u0438\u043d \u0431\u04af\u0440\u0442\u0433\u044d\u043b"},{icon:"ApartmentOutlined",href:h.SA.admins,text:"\u0410\u0434\u043c\u0438\u043d \u0436\u0430\u0433\u0441\u0430\u0430\u043b\u0442"},{icon:"FormOutlined",href:"/",text:"NEW"===g.mode?"\u0410\u0434\u043c\u0438\u043d \u0431\u04af\u0440\u0442\u0433\u044d\u0445":"\u0410\u0434\u043c\u0438\u043d \u0437\u0430\u0441\u0430\u0445"}],J=function(){var r=(0,l.Z)((0,n.Z)().mark((function r(){return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:b.validateFields().then(function(){var r=(0,l.Z)((0,n.Z)().mark((function r(t){return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("EDIT"!==g.mode){r.next=5;break}return r.next=3,(0,m.GH)(h.SA.admin,t);case 3:r.next=7;break;case 5:return r.next=7,(0,m.j0)(h.SA.admin,t);case 7:d.ZP.success("\u041c\u044d\u0434\u044d\u044d\u043b\u043b\u0438\u0439\u0433 \u0430\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430."),e(h.SA.admins);case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()).catch((function(e){N({loading:!1}),d.ZP.error(e.Message)}));case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),q=function(){var e=(0,l.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N({loading:!0}),e.next=4,(0,m.A_)("admin/user/".concat(r));case 4:t=e.sent,N({mode:"EDIT",loading:!1,data:t.data}),b.setFieldsValue(t.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),N({loading:!1}),d.ZP.error(e.t0.Message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(r){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){"new"!==r&&q(r)}),[r]),(0,v.jsx)(p.T3,{breadcrumb:w,children:(0,v.jsxs)(o.Z,{children:[(0,v.jsx)(c.Z,{span:6,style:{paddingRight:"20px"},children:(0,v.jsx)(x.Z,{height:350,width:"100%",src:j.Z,style:{border:"3px solid #EEF3FE",borderRadius:"10px"},placeholder:(0,v.jsx)("div",{style:{height:"100%",width:"100%",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:(0,v.jsx)(f.Z,{})})})}),(0,v.jsx)(c.Z,{span:18,children:(0,v.jsxs)(u.Z,{form:b,initialValues:{userId:""},layout:"vertical",children:[(0,v.jsxs)(o.Z,{gutter:[16,4],children:[(0,v.jsx)(p.xJ,{itemType:"select",label:"\u0425\u044d\u0440\u044d\u0433\u043b\u044d\u0433\u0447\u0438\u0439\u043d \u04af\u04af\u0440\u044d\u0433",name:"role",span:8,dtsrc:[{val:"Consumer",txt:"\u0425\u044d\u0440\u044d\u0433\u043b\u044d\u0433\u0447",orderNo:1,filter:null,filter2:null},{val:"Admin",txt:"\u0410\u0434\u043c\u0438\u043d",orderNo:2,filter:null,filter2:null},{val:"Customer",txt:"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447",orderNo:3,filter:null,filter2:null},{val:"Operator",txt:"\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440",orderNo:4,filter:null,filter2:null}],required:!0}),(0,v.jsx)(p.xJ,{itemType:"select",label:"\u0425\u044d\u0440\u044d\u0433\u043b\u044d\u0433\u0447\u0438\u0439\u043d \u0442\u04e9\u0440\u04e9\u043b",name:"userType",span:8,dtsrc:[{val:"Adm",txt:"\u0410\u0434\u043c\u0438\u043d",orderNo:1,filter:null,filter2:null},{val:"Aut",txt:"\u0410\u0432\u0442\u043e",orderNo:2,filter:null,filter2:null},{val:"Org",txt:"\u0411\u0430\u0439\u0433\u0443\u0443\u043b\u0433\u0430",orderNo:3,filter:null,filter2:null},{val:"Per",txt:"\u0425\u044d\u0440\u044d\u0433\u043b\u044d\u0433\u0447",orderNo:4,filter:null,filter2:null}],required:!0}),(0,v.jsx)(p.xJ,{itemType:"select",label:"\u0422\u04e9\u043b\u04e9\u0432",name:"status",span:8,dtsrc:[{val:"A",txt:"\u0418\u0434\u044d\u0432\u0445\u0442\u044d\u0439",orderNo:1,filter:null,filter2:null},{val:"I",txt:"\u0418\u0434\u044d\u0432\u0445\u0433\u04af\u0439",orderNo:2,filter:null,filter2:null}],required:!0}),(0,v.jsx)(p.xJ,{label:"\u0418-\u041c\u044d\u0439\u043b",name:"email",required:!0,span:8}),(0,v.jsx)(p.xJ,{label:"\u041d\u044d\u0440",name:"name",required:!0,span:8}),(0,v.jsx)(p.xJ,{label:"\u041e\u0432\u043e\u0433",name:"firstName",required:!0,span:8}),(0,v.jsx)(p.xJ,{label:"\u041d\u044d\u0440",name:"lastName",required:!0,span:8}),(0,v.jsx)(p.xJ,{label:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440",name:"regNo",required:!0,span:8}),(0,v.jsx)(p.xJ,{itemType:"date",label:"\u0422\u04e9\u0440\u0441\u04e9\u043d \u043e\u0433\u043d\u043e\u043e",name:"birthdate",required:!0,span:8}),(0,v.jsx)(p.xJ,{label:"\u0414\u0443\u0433\u0430\u0430\u0440",name:"phone",required:!0,span:8}),(0,v.jsx)(p.xJ,{label:"\u0417\u0443\u0440\u0430\u0433",name:"photo",required:!0,span:8}),(0,v.jsx)(p.xJ,{itemType:"password",label:"\u041d\u04af\u04af\u0446 \u04af\u0433",name:"password",required:!0,span:8})]}),(0,v.jsx)(p.xJ,{span:24,itemType:"button",onClick:function(){return J()}})]})})]})})}}}]);
//# sourceMappingURL=dp-Form.683c1d48.chunk.js.map