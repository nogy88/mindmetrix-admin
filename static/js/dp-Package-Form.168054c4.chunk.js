"use strict";(self.webpackChunkmind=self.webpackChunkmind||[]).push([[797],{7789:function(e,n,r){r.r(n);var t=r(3508),a=r(3032),c=r(3430),s=r(2791),u=r(5897),i=r(419),l=r(6106),o=r(9034),d=r(7856),p=r(1226),f=r(7689),x=r(184);n.default=function(){var e=(0,f.s0)(),n=(0,f.UO)().packageId,r=u.Z.useForm(),m=(0,c.Z)(r,1)[0],g=(0,s.useState)({loading:!1,mode:"NEW",data:{}}),h=(0,c.Z)(g,2),k=h[0],Z=h[1],v=[{icon:"IdcardOutlined",href:null,text:"\u0411\u0430\u0433\u0446\u044b\u043d \u0436\u0430\u0433\u0441\u0430\u0430\u043b\u0442"},{icon:"ApartmentOutlined",href:p.gV.packages,text:"\u0411\u0430\u0433\u0446\u044b\u043d \u0436\u0430\u0433\u0441\u0430\u0430\u043b\u0442"},{icon:"FormOutlined",href:"",text:"NEW"===k.mode?"\u0411\u0430\u0433\u0446 \u0431\u04af\u0440\u0442\u0433\u044d\u0445":"\u0411\u0430\u0433\u0446 \u0437\u0430\u0441\u0430\u0445"}],b=function(){var n=(0,a.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:m.validateFields().then(function(){var n=(0,a.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("EDIT"!==k.mode){n.next=5;break}return n.next=3,(0,d.GH)(p.gV.package,r);case 3:n.next=7;break;case 5:return n.next=7,(0,d.j0)(p.gV.package,r);case 7:i.ZP.success("\u041c\u044d\u0434\u044d\u044d\u043b\u043b\u0438\u0439\u0433 \u0430\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430."),e(p.gV.packages);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){Z({loading:!1}),i.ZP.error(e.Message)}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),j=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z({loading:!0}),e.next=4,(0,d.A_)("".concat(p.gV.package,"/").concat(n));case 4:r=e.sent,Z({mode:"EDIT",loading:!1,data:r.data}),m.setFieldsValue(r.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),Z({loading:!1}),i.ZP.error(e.t0.Message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){"new"!==n&&j(n)}),[n]),(0,x.jsx)(o.T3,{breadcrumb:v,children:(0,x.jsx)(u.Z,{form:m,initialValues:{packageId:""},layout:"vertical",children:(0,x.jsxs)(l.Z,{gutter:[16],children:[(0,x.jsx)(o.xJ,{label:"\u041d\u044d\u0440",name:"name",required:!0,span:8}),(0,x.jsx)(o.xJ,{label:"\u0422\u0430\u0439\u043b\u0431\u0430\u0440",name:"desc",required:!0,span:8}),(0,x.jsx)(o.xJ,{label:"\u042d\u0440\u044d\u043c\u0431\u044d",name:"orderNo",required:!0,span:8}),(0,x.jsx)(o.xJ,{label:"\u0417\u0443\u0440\u0430\u0433",name:"img",required:!0,span:8}),(0,x.jsx)(o.xJ,{label:"\u0414\u04af\u043d",name:"price",required:!0,span:8}),(0,x.jsx)(o.xJ,{span:8,itemType:"select",label:"\u0422\u04e9\u043b\u04e9\u0432",name:"status",dtsrc:[{val:"A",txt:"\u0418\u0434\u044d\u0432\u0445\u0442\u044d\u0439",orderNo:1,filter:null,filter2:null},{val:"I",txt:"\u0418\u0434\u044d\u0432\u0445\u0433\u04af\u0439",orderNo:2,filter:null,filter2:null}],required:!0}),(0,x.jsx)(o.xJ,{span:24,itemType:"button",onClick:function(){return b()}})]})})})}}}]);
//# sourceMappingURL=dp-Package-Form.168054c4.chunk.js.map