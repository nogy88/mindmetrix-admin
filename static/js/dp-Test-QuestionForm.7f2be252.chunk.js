"use strict";(self.webpackChunkmind=self.webpackChunkmind||[]).push([[982],{7752:function(e,t,n){n.r(t);var r=n(6515),a=n(3508),c=n(3032),s=n(3430),i=n(2791),l=n(5897),u=n(419),o=n(8361),f=n(6106),d=n(914),m=n(9034),p=n(7856),v=n(1226),x=n(184);t.default=function(e){var t=e.questionId,n=e.handleClose,Z=e.refreshTable,h=e.testId,g=l.Z.useForm(),y=(0,s.Z)(g,1)[0],C=(0,i.useState)(!1),w=(0,s.Z)(C,2),E=w[0],q=w[1],j=(0,i.useState)([]),N=(0,s.Z)(j,2),b=N[0],k=N[1],P=(0,i.useState)([]),z=(0,s.Z)(P,2),T=z[0],I=z[1];(0,i.useEffect)((function(){null!==t&&(q(!0),(0,p.A_)("".concat(v.Bu.question).concat(t)).then((function(e){y.setFieldsValue(e.data)})).catch((function(e){u.ZP.error("\u0410\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430. ".concat(e.Message))})).finally((function(){return q(!1)})))}),[t]),(0,i.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,p.A_)("".concat(v.dz.enum,"/EQuesType")).then((function(e){k(e.data)})).catch((function(e){u.ZP.error(e.Message)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,p.A_)("".concat(v.dz.enum,"/EStatus")).then((function(e){I(e.data)})).catch((function(e){u.ZP.error(e.Message)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t(),e()}),[]);var M=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.validateFields().then(function(){var e=(0,c.Z)((0,a.Z)().mark((function e(c){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q(!0),!t){e.next=6;break}return e.next=4,(0,p.GH)(v.Bu.question,(0,r.Z)((0,r.Z)({},c),{},{questionId:t,testId:+h}));case 4:e.next=8;break;case 6:return e.next=8,(0,p.j0)(v.Bu.question,(0,r.Z)((0,r.Z)({},c),{},{testId:+h,testFactors:[{factorId:22}]}));case 8:u.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430."),Z(),q(!1),n();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){u.ZP.error(e.Message),q(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,x.jsx)("div",{style:{width:"100%"},children:(0,x.jsx)(o.Z,{loading:E,children:(0,x.jsxs)(l.Z,{layout:"vertical",hideRequiredMark:!0,scrollToFirstError:!0,form:y,children:[(0,x.jsxs)(f.Z,{gutter:32,style:{},children:[(0,x.jsx)(d.Z,{span:16,children:(0,x.jsxs)(f.Z,{justify:"start",gutter:32,children:[(0,x.jsx)(m.xJ,{itemType:"select",label:"\u0422\u04e9\u0440\u04e9\u043b",name:"quesType",dtsrc:b,span:8,required:!0}),(0,x.jsx)(m.xJ,{label:"\u0410\u0441\u0443\u0443\u043b\u0442",name:"questionTxt",span:8,required:!0}),(0,x.jsx)(m.xJ,{itemType:"radio",label:"\u0417\u0443\u0440\u0430\u0433\u0442\u0430\u0439 \u044d\u0441\u044d\u0445",name:"isImg",span:8,required:!0}),(0,x.jsx)(m.xJ,{itemType:"radio",label:"\u0410\u0441\u0443\u0443\u043b\u0442 \u0445\u043e\u043b\u0438\u0445 \u044d\u0441\u044d\u0445",name:"isAnswerShuffle",span:8,required:!0}),(0,x.jsx)(m.xJ,{label:"\u0418\u043d\u0434\u0435\u043a\u0441",name:"index",span:8,itemType:"number",required:!0}),(0,x.jsx)(m.xJ,{label:"\u042d\u0440\u044d\u043c\u0431\u044d",name:"orderNo",itemType:"number",span:8,required:!0}),(0,x.jsx)(m.xJ,{itemType:"select",label:"\u0422\u04e9\u043b\u04e9\u0432",name:"status",dtsrc:T,span:8,required:!0})]})}),(0,x.jsx)(d.Z,{span:8,children:(0,x.jsx)("div",{style:{backgroundColor:"yellow",height:"100%",width:"100%"}})})]}),(0,x.jsxs)(f.Z,{gutter:6,justify:"end",style:{marginTop:"20px"},children:[(0,x.jsx)(d.Z,{children:(0,x.jsx)(m.op,{btntext:"\u0411\u043e\u043b\u0438\u0445",onClick:function(){return n()},type:"ghost"})}),(0,x.jsx)(d.Z,{children:(0,x.jsx)(m.op,{btntext:"\u041d\u044d\u043c\u044d\u0445",onClick:function(){return M()},styles:{backgroundColor:"#00bf6f"}})})]})]})})})}},8361:function(e,t,n){n.d(t,{Z:function(){return q}});var r=n(5623),a=n(3963),c=n(8442),s=n(2791),i=n(1694),l=n.n(i),u=function(e){var t=e.prefixCls,n=e.className,r=e.width,c=e.style;return s.createElement("h3",{className:l()(t,n),style:(0,a.Z)({width:r},c)})},o=n(7705),f=function(e){var t=function(t){var n=e.width,r=e.rows,a=void 0===r?2:r;return Array.isArray(n)?n[t]:a-1===t?n:void 0},n=e.prefixCls,r=e.className,a=e.style,c=e.rows,i=(0,o.Z)(Array(c)).map((function(e,n){return s.createElement("li",{key:n,style:{width:t(n)}})}));return s.createElement("ul",{className:l()(n,r),style:a},i)},d=n(9077),m=function(e){var t,n,c=e.prefixCls,i=e.className,u=e.style,o=e.size,f=e.shape,d=l()((t={},(0,r.Z)(t,"".concat(c,"-lg"),"large"===o),(0,r.Z)(t,"".concat(c,"-sm"),"small"===o),t)),m=l()((n={},(0,r.Z)(n,"".concat(c,"-circle"),"circle"===f),(0,r.Z)(n,"".concat(c,"-square"),"square"===f),(0,r.Z)(n,"".concat(c,"-round"),"round"===f),n)),p="number"===typeof o?{width:o,height:o,lineHeight:"".concat(o,"px")}:{};return s.createElement("span",{className:l()(c,d,m,i),style:(0,a.Z)((0,a.Z)({},p),u)})},p=n(1818),v=function(e){var t=function(t){var n=t.getPrefixCls,c=e.prefixCls,i=e.className,u=e.active,o=n("skeleton",c),f=(0,p.Z)(e,["prefixCls","className"]),d=l()(o,"".concat(o,"-element"),(0,r.Z)({},"".concat(o,"-active"),u),i);return s.createElement("div",{className:d},s.createElement(m,(0,a.Z)({prefixCls:"".concat(o,"-avatar")},f)))};return s.createElement(d.C,null,t)};v.defaultProps={size:"default",shape:"circle"};var x=v,Z=function(e){var t=function(t){var n=t.getPrefixCls,c=e.prefixCls,i=e.className,u=e.active,o=n("skeleton",c),f=(0,p.Z)(e,["prefixCls"]),d=l()(o,"".concat(o,"-element"),(0,r.Z)({},"".concat(o,"-active"),u),i);return s.createElement("div",{className:d},s.createElement(m,(0,a.Z)({prefixCls:"".concat(o,"-button")},f)))};return s.createElement(d.C,null,t)};Z.defaultProps={size:"default"};var h=Z,g=function(e){var t=function(t){var n=t.getPrefixCls,c=e.prefixCls,i=e.className,u=e.active,o=n("skeleton",c),f=(0,p.Z)(e,["prefixCls"]),d=l()(o,"".concat(o,"-element"),(0,r.Z)({},"".concat(o,"-active"),u),i);return s.createElement("div",{className:d},s.createElement(m,(0,a.Z)({prefixCls:"".concat(o,"-input")},f)))};return s.createElement(d.C,null,t)};g.defaultProps={size:"default"};var y=g,C=function(e){var t=function(t){var n=t.getPrefixCls,r=e.prefixCls,a=e.className,c=e.style,i=n("skeleton",r),u=l()(i,"".concat(i,"-element"),a);return s.createElement("div",{className:u},s.createElement("div",{className:l()("".concat(i,"-image"),a),style:c},s.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(i,"-image-svg")},s.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:"".concat(i,"-image-path")}))))};return s.createElement(d.C,null,t)};function w(e){return e&&"object"===(0,c.Z)(e)?e:{}}var E=function(e){var t=function(t){var n=t.getPrefixCls,c=t.direction,i=e.prefixCls,o=e.loading,d=e.className,p=e.children,v=e.avatar,x=e.title,Z=e.paragraph,h=e.active,g=e.round,y=n("skeleton",i);if(o||!("loading"in e)){var C,E,q,j=!!v,N=!!x,b=!!Z;if(j){var k=(0,a.Z)((0,a.Z)({prefixCls:"".concat(y,"-avatar")},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(N,b)),w(v));E=s.createElement("div",{className:"".concat(y,"-header")},s.createElement(m,k))}if(N||b){var P,z;if(N){var T=(0,a.Z)((0,a.Z)({prefixCls:"".concat(y,"-title")},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(j,b)),w(x));P=s.createElement(u,T)}if(b){var I=(0,a.Z)((0,a.Z)({prefixCls:"".concat(y,"-paragraph")},function(e,t){var n={};return e&&t||(n.width="61%"),n.rows=!e&&t?3:2,n}(j,N)),w(Z));z=s.createElement(f,I)}q=s.createElement("div",{className:"".concat(y,"-content")},P,z)}var M=l()(y,(C={},(0,r.Z)(C,"".concat(y,"-with-avatar"),j),(0,r.Z)(C,"".concat(y,"-active"),h),(0,r.Z)(C,"".concat(y,"-rtl"),"rtl"===c),(0,r.Z)(C,"".concat(y,"-round"),g),C),d);return s.createElement("div",{className:M},E,q)}return p};return s.createElement(d.C,null,t)};E.defaultProps={avatar:!1,title:!0,paragraph:!0},E.Button=h,E.Avatar=x,E.Input=y,E.Image=C;var q=E}}]);
//# sourceMappingURL=dp-Test-QuestionForm.7f2be252.chunk.js.map