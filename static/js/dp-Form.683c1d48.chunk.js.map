{"version":3,"file":"static/js/dp-Form.683c1d48.chunk.js","mappings":"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","sources":["modules/admin/views/Form.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { Form, Row, message, Col, Image, Spin } from \"antd\";\r\nimport { FormItem, Page } from \"components\";\r\nimport { postRequest, getRequest, putRequest } from \"api\";\r\nimport { admin } from \"api/endpoints\";\r\nimport noImage from \"assets/images/logosmall.svg\";\r\n\r\nconst AdminForm = () => {\r\n  const navigate = useNavigate();\r\n\r\n  let { userId } = useParams();\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const [state, setState] = useState({\r\n    loading: false,\r\n    mode: \"NEW\",\r\n    data: {},\r\n  });\r\n\r\n  const breadcrumb = [\r\n    {\r\n      icon: \"IdcardOutlined\",\r\n      href: null,\r\n      text: \"Админ бүртгэл\",\r\n    },\r\n    {\r\n      icon: \"ApartmentOutlined\",\r\n      href: admin.admins,\r\n      text: \"Админ жагсаалт\",\r\n    },\r\n    {\r\n      icon: \"FormOutlined\",\r\n      href: \"/\",\r\n      text: state.mode === \"NEW\" ? \"Админ бүртгэх\" : \"Админ засах\",\r\n    },\r\n  ];\r\n\r\n  const submit = async () => {\r\n    form\r\n      .validateFields()\r\n      .then(async (values) => {\r\n        if (state.mode === \"EDIT\") {\r\n          await putRequest(admin.admin, values);\r\n        } else {\r\n          await postRequest(admin.admin, values);\r\n        }\r\n        message.success(\"Мэдээллийг амжилттай хадгаллаа.\");\r\n        // getProduct(values.prodCode);\r\n        navigate(admin.admins);\r\n      })\r\n      .catch((err) => {\r\n        setState({ loading: false });\r\n        message.error(err.Message);\r\n      });\r\n  };\r\n\r\n  const getAdmin = async (userId) => {\r\n    try {\r\n      setState({ loading: true });\r\n      const res = await getRequest(`admin/user/${userId}`);\r\n      setState({ mode: \"EDIT\", loading: false, data: res.data });\r\n      form.setFieldsValue(res.data);\r\n    } catch (error) {\r\n      setState({ loading: false });\r\n      message.error(error.Message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (userId !== \"new\") {\r\n      getAdmin(userId);\r\n    }\r\n  }, [userId]);\r\n\r\n  return (\r\n    <Page breadcrumb={breadcrumb}>\r\n      <Row>\r\n        <Col span={6} style={{ paddingRight: \"20px\" }}>\r\n          <Image\r\n            height={350}\r\n            width=\"100%\"\r\n            src={noImage}\r\n            style={{ border: \"3px solid #EEF3FE\", borderRadius: \"10px\" }}\r\n            placeholder={\r\n              <div\r\n                style={{\r\n                  height: \"100%\",\r\n                  width: \"100%\",\r\n                  display: \"flex\",\r\n                  justifyContent: \"center\",\r\n                  flexDirection: \"column\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                <Spin></Spin>\r\n              </div>\r\n            }\r\n          />\r\n          {/* <Image preview={false} alt=\"\" src={\"\"} /> */}\r\n        </Col>\r\n        <Col span={18}>\r\n          <Form form={form} initialValues={{ userId: \"\" }} layout=\"vertical\">\r\n            <Row gutter={[16, 4]}>\r\n              <FormItem\r\n                itemType=\"select\"\r\n                label=\"Хэрэглэгчийн үүрэг\"\r\n                name={\"role\"}\r\n                span={8}\r\n                dtsrc={[\r\n                  {\r\n                    val: \"Consumer\",\r\n                    txt: \"Хэрэглэгч\",\r\n                    orderNo: 1,\r\n                    filter: null,\r\n                    filter2: null,\r\n                  },\r\n                  {\r\n                    val: \"Admin\",\r\n                    txt: \"Админ\",\r\n                    orderNo: 2,\r\n                    filter: null,\r\n                    filter2: null,\r\n                  },\r\n                  {\r\n                    val: \"Customer\",\r\n                    txt: \"Харилцагч\",\r\n                    orderNo: 3,\r\n                    filter: null,\r\n                    filter2: null,\r\n                  },\r\n                  {\r\n                    val: \"Operator\",\r\n                    txt: \"Оператор\",\r\n                    orderNo: 4,\r\n                    filter: null,\r\n                    filter2: null,\r\n                  },\r\n                ]}\r\n                required\r\n              />\r\n              <FormItem\r\n                itemType=\"select\"\r\n                label=\"Хэрэглэгчийн төрөл\"\r\n                name={\"userType\"}\r\n                span={8}\r\n                dtsrc={[\r\n                  {\r\n                    val: \"Adm\",\r\n                    txt: \"Админ\",\r\n                    orderNo: 1,\r\n                    filter: null,\r\n                    filter2: null,\r\n                  },\r\n                  {\r\n                    val: \"Aut\",\r\n                    txt: \"Авто\",\r\n                    orderNo: 2,\r\n                    filter: null,\r\n                    filter2: null,\r\n                  },\r\n                  {\r\n                    val: \"Org\",\r\n                    txt: \"Байгуулга\",\r\n                    orderNo: 3,\r\n                    filter: null,\r\n                    filter2: null,\r\n                  },\r\n                  {\r\n                    val: \"Per\",\r\n                    txt: \"Хэрэглэгч\",\r\n                    orderNo: 4,\r\n                    filter: null,\r\n                    filter2: null,\r\n                  },\r\n                ]}\r\n                required\r\n              />\r\n              <FormItem\r\n                itemType=\"select\"\r\n                label=\"Төлөв\"\r\n                name={\"status\"}\r\n                span={8}\r\n                dtsrc={[\r\n                  {\r\n                    val: \"A\",\r\n                    txt: \"Идэвхтэй\",\r\n                    orderNo: 1,\r\n                    filter: null,\r\n                    filter2: null,\r\n                  },\r\n                  {\r\n                    val: \"I\",\r\n                    txt: \"Идэвхгүй\",\r\n                    orderNo: 2,\r\n                    filter: null,\r\n                    filter2: null,\r\n                  },\r\n                ]}\r\n                required\r\n              />\r\n              <FormItem label=\"И-Мэйл\" name={\"email\"} required span={8} />\r\n              <FormItem label=\"Нэр\" name={\"name\"} required span={8} />\r\n              <FormItem label=\"Овог\" name={\"firstName\"} required span={8} />\r\n              <FormItem label=\"Нэр\" name={\"lastName\"} required span={8} />\r\n              <FormItem label=\"Регистр\" name={\"regNo\"} required span={8} />\r\n              <FormItem\r\n                itemType=\"date\"\r\n                label=\"Төрсөн огноо\"\r\n                name={\"birthdate\"}\r\n                required\r\n                span={8}\r\n              />\r\n              <FormItem label=\"Дугаар\" name={\"phone\"} required span={8} />\r\n              <FormItem label=\"Зураг\" name={\"photo\"} required span={8} />\r\n\r\n              <FormItem\r\n                itemType=\"password\"\r\n                label=\"Нүүц үг\"\r\n                name={\"password\"}\r\n                required\r\n                span={8}\r\n              />\r\n            </Row>\r\n\r\n            <FormItem span={24} itemType=\"button\" onClick={() => submit()} />\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default AdminForm;\r\n"],"names":["navigate","useNavigate","userId","useParams","Form","form","useState","loading","mode","data","state","setState","breadcrumb","icon","href","text","admin","submit","validateFields","then","values","putRequest","postRequest","message","catch","err","Message","getAdmin","getRequest","res","setFieldsValue","useEffect","span","style","paddingRight","height","width","src","noImage","border","borderRadius","placeholder","display","justifyContent","flexDirection","alignItems","initialValues","layout","gutter","itemType","label","name","dtsrc","val","txt","orderNo","filter","filter2","required","onClick"],"sourceRoot":""}