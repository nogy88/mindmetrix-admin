{"version":3,"file":"static/js/dp-Business-Form.ac6ec6c4.chunk.js","mappings":"kOAiHA,UA1GqB,WACnB,IAAMA,GAAWC,EAAAA,EAAAA,MAEXC,GAAeC,EAAAA,EAAAA,MAAfD,WAEN,EAAeE,EAAAA,EAAAA,UAARC,GAAsB,YAAlB,GAEX,GAA0BC,EAAAA,EAAAA,UAAS,CACjCC,SAAS,EACTC,KAAM,MACNC,KAAM,CAAC,IACP,eAJKC,EAAK,KAAEC,EAAQ,KAMhBC,EAAa,CACjB,CACEC,KAAM,iBACNC,KAAM,KACNC,KAAM,wCAER,CACEF,KAAM,oBACNC,KAAME,EAAAA,GAAAA,OACND,KAAM,yFAER,CACEF,KAAM,eACNC,KAAM,IACNC,KAAqB,QAAfL,EAAMF,KAAiB,kFAAmB,wEAI9CS,EAAM,yCAAG,mFACbZ,EACGa,iBACAC,KAAI,yCAAC,WAAOC,GAAM,yEACE,SAAfV,EAAMF,KAAe,iCACjBa,EAAAA,EAAAA,IAAWC,EAAAA,GAAAA,SAAmBF,GAAQ,KAAD,yCAErCG,EAAAA,EAAAA,IAAYD,EAAAA,GAAAA,SAAmBF,GAAQ,KAAD,EAE9CI,EAAAA,GAAAA,QAAgB,+KAEhBxB,EAASsB,EAAAA,GAAAA,YAAqB,2CAC/B,mDATI,IAUJG,OAAM,SAACC,GACNf,EAAS,CAAEJ,SAAS,IACpBiB,EAAAA,GAAAA,MAAcE,EAAIC,QACpB,IAAG,2CACN,kBAjBW,mCAmBNC,EAAQ,yCAAG,WAAO1B,GAAU,4EAEF,OAFE,SAE9BS,EAAS,CAAEJ,SAAS,IAAQ,UACVsB,EAAAA,EAAAA,IAAW,GAAD,OAAIP,EAAAA,GAAAA,SAAiB,YAAIpB,IAAc,KAAD,EAA5D4B,EAAG,OACTnB,EAAS,CAAEH,KAAM,OAAQD,SAAS,EAAOE,KAAMqB,EAAIrB,OACnDJ,EAAK0B,eAAeD,EAAIrB,MAAM,gDAE9BE,EAAS,CAAEJ,SAAS,IACpBiB,EAAAA,GAAAA,MAAc,KAAMG,SAAS,yDAEhC,gBAVa,sCAkBd,OANAK,EAAAA,EAAAA,YAAU,WACW,QAAf9B,GACF0B,EAAS1B,EAEb,GAAG,CAACA,KAGF,SAAC,KAAI,CAACU,WAAYA,EAAW,UAC3B,SAAC,IAAI,CAACP,KAAMA,EAAM4B,cAAe,CAAE/B,WAAY,IAAMgC,OAAO,WAAU,UACpE,UAAC,IAAG,CAACC,OAAQ,CAAC,IAAI,WAChB,SAAC,KAAQ,CAACC,MAAM,qBAAMC,KAAM,OAAQC,UAAQ,EAACC,KAAM,KACnD,SAAC,KAAQ,CAACH,MAAM,UAAUC,KAAM,UAAWC,UAAQ,EAACC,KAAM,KAE1D,SAAC,KAAQ,CACPA,KAAM,EACNC,SAAS,SACTJ,MAAM,iCACNC,KAAM,SACNI,MAAO,CACL,CACEC,IAAK,IACLC,IAAK,mDACLC,QAAS,EACTC,OAAQ,KACRC,QAAS,MAEX,CACEJ,IAAK,IACLC,IAAK,mDACLC,QAAS,EACTC,OAAQ,KACRC,QAAS,OAGbR,UAAQ,KAGV,SAAC,KAAQ,CAACC,KAAM,GAAIC,SAAS,SAASO,QAAS,kBAAM9B,GAAQ,UAKvE,C","sources":["modules/business/views/Business/Form.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Form, Row, message } from \"antd\";\r\nimport { FormItem, Page } from \"components\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { postRequest, getRequest, putRequest } from \"api\";\r\nimport { admin, business } from \"api/endpoints\";\r\n\r\nconst BusinessForm = () => {\r\n  const navigate = useNavigate();\r\n\r\n  let { businessId } = useParams();\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const [state, setState] = useState({\r\n    loading: false,\r\n    mode: \"NEW\",\r\n    data: {},\r\n  });\r\n\r\n  const breadcrumb = [\r\n    {\r\n      icon: \"IdcardOutlined\",\r\n      href: null,\r\n      text: \"Бизнес\",\r\n    },\r\n    {\r\n      icon: \"ApartmentOutlined\",\r\n      href: admin.admins,\r\n      text: \"Бизнес жагсаалт\",\r\n    },\r\n    {\r\n      icon: \"FormOutlined\",\r\n      href: \"/\",\r\n      text: state.mode === \"NEW\" ? \"Бизнес бүртгэх\" : \"Бизнес засах\",\r\n    },\r\n  ];\r\n\r\n  const submit = async () => {\r\n    form\r\n      .validateFields()\r\n      .then(async (values) => {\r\n        if (state.mode === \"EDIT\") {\r\n          await putRequest(business.business, values);\r\n        } else {\r\n          await postRequest(business.business, values);\r\n        }\r\n        message.success(\"Мэдээллийг амжилттай хадгаллаа.\");\r\n        // getProduct(values.prodCode);\r\n        navigate(business.businesses);\r\n      })\r\n      .catch((err) => {\r\n        setState({ loading: false });\r\n        message.error(err.Message);\r\n      });\r\n  };\r\n\r\n  const getAdmin = async (businessId) => {\r\n    try {\r\n      setState({ loading: true });\r\n      const res = await getRequest(`${business.business}/${businessId}`);\r\n      setState({ mode: \"EDIT\", loading: false, data: res.data });\r\n      form.setFieldsValue(res.data);\r\n    } catch (error) {\r\n      setState({ loading: false });\r\n      message.error(error.Message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (businessId !== \"new\") {\r\n      getAdmin(businessId);\r\n    }\r\n  }, [businessId]);\r\n\r\n  return (\r\n    <Page breadcrumb={breadcrumb}>\r\n      <Form form={form} initialValues={{ businessId: \"\" }} layout=\"vertical\">\r\n        <Row gutter={[16]}>\r\n          <FormItem label=\"Нэр\" name={\"name\"} required span={8} />\r\n          <FormItem label=\"OrderNo\" name={\"orderNo\"} required span={8} />\r\n\r\n          <FormItem\r\n            span={8}\r\n            itemType=\"select\"\r\n            label=\"Төлөв\"\r\n            name={\"status\"}\r\n            dtsrc={[\r\n              {\r\n                val: \"A\",\r\n                txt: \"Идэвхтэй\",\r\n                orderNo: 1,\r\n                filter: null,\r\n                filter2: null,\r\n              },\r\n              {\r\n                val: \"I\",\r\n                txt: \"Идэвхгүй\",\r\n                orderNo: 2,\r\n                filter: null,\r\n                filter2: null,\r\n              },\r\n            ]}\r\n            required\r\n          />\r\n\r\n          <FormItem span={24} itemType=\"button\" onClick={() => submit()} />\r\n        </Row>\r\n      </Form>\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default BusinessForm;\r\n"],"names":["navigate","useNavigate","businessId","useParams","Form","form","useState","loading","mode","data","state","setState","breadcrumb","icon","href","text","admin","submit","validateFields","then","values","putRequest","business","postRequest","message","catch","err","Message","getAdmin","getRequest","res","setFieldsValue","useEffect","initialValues","layout","gutter","label","name","required","span","itemType","dtsrc","val","txt","orderNo","filter","filter2","onClick"],"sourceRoot":""}