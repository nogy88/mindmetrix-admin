{"version":3,"file":"static/js/dp-Package-Form.168054c4.chunk.js","mappings":"kOAqHA,UA9GoB,WAClB,IAAMA,GAAWC,EAAAA,EAAAA,MAEXC,GAAcC,EAAAA,EAAAA,MAAdD,UAEN,EAAeE,EAAAA,EAAAA,UAARC,GAAsB,YAAlB,GAEX,GAA0BC,EAAAA,EAAAA,UAAS,CACjCC,SAAS,EACTC,KAAM,MACNC,KAAM,CAAC,IACP,eAJKC,EAAK,KAAEC,EAAQ,KAMhBC,EAAa,CACjB,CACEC,KAAM,iBACNC,KAAM,KACNC,KAAM,yFAER,CACEF,KAAM,oBACNC,KAAME,EAAAA,GAAAA,SACND,KAAM,yFAER,CACEF,KAAM,eACNC,KAAM,GACNC,KAAqB,QAAfL,EAAMF,KAAiB,sEAAiB,4DAI5CS,EAAM,yCAAG,mFACbZ,EACGa,iBACAC,KAAI,yCAAC,WAAOC,GAAM,yEACE,SAAfV,EAAMF,KAAe,iCACjBa,EAAAA,EAAAA,IAAWL,EAAAA,GAAAA,QAAqBI,GAAQ,KAAD,yCAEvCE,EAAAA,EAAAA,IAAYN,EAAAA,GAAAA,QAAqBI,GAAQ,KAAD,EAEhDG,EAAAA,GAAAA,QAAgB,+KAEhBvB,EAASgB,EAAAA,GAAAA,UAAsB,2CAChC,mDATI,IAUJQ,OAAM,SAACC,GACNd,EAAS,CAAEJ,SAAS,IACpBgB,EAAAA,GAAAA,MAAcE,EAAIC,QACpB,IAAG,2CACN,kBAjBW,mCAmBNC,EAAQ,yCAAG,WAAOzB,GAAS,4EAED,OAFC,SAE7BS,EAAS,CAAEJ,SAAS,IAAQ,UACVqB,EAAAA,EAAAA,IAAW,GAAD,OAAIZ,EAAAA,GAAAA,QAAmB,YAAId,IAAa,KAAD,EAA7D2B,EAAG,OACTlB,EAAS,CAAEH,KAAM,OAAQD,SAAS,EAAOE,KAAMoB,EAAIpB,OACnDJ,EAAKyB,eAAeD,EAAIpB,MAAM,gDAE9BE,EAAS,CAAEJ,SAAS,IACpBgB,EAAAA,GAAAA,MAAc,KAAMG,SAAS,yDAEhC,gBAVa,sCAkBd,OANAK,EAAAA,EAAAA,YAAU,WACU,QAAd7B,GACFyB,EAASzB,EAEb,GAAG,CAACA,KAGF,SAAC,KAAI,CAACU,WAAYA,EAAW,UAC3B,SAAC,IAAI,CAACP,KAAMA,EAAM2B,cAAe,CAAE9B,UAAW,IAAM+B,OAAO,WAAU,UACnE,UAAC,IAAG,CAACC,OAAQ,CAAC,IAAI,WAChB,SAAC,KAAQ,CAACC,MAAM,qBAAMC,KAAM,OAAQC,UAAQ,EAACC,KAAM,KACnD,SAAC,KAAQ,CAACH,MAAM,6CAAUC,KAAM,OAAQC,UAAQ,EAACC,KAAM,KAEvD,SAAC,KAAQ,CAACH,MAAM,uCAASC,KAAM,UAAWC,UAAQ,EAACC,KAAM,KACzD,SAAC,KAAQ,CAACH,MAAM,iCAAQC,KAAM,MAAOC,UAAQ,EAACC,KAAM,KACpD,SAAC,KAAQ,CAACH,MAAM,qBAAMC,KAAM,QAASC,UAAQ,EAACC,KAAM,KAEpD,SAAC,KAAQ,CACPA,KAAM,EACNC,SAAS,SACTJ,MAAM,iCACNC,KAAM,SACNI,MAAO,CACL,CACEC,IAAK,IACLC,IAAK,mDACLC,QAAS,EACTC,OAAQ,KACRC,QAAS,MAEX,CACEJ,IAAK,IACLC,IAAK,mDACLC,QAAS,EACTC,OAAQ,KACRC,QAAS,OAGbR,UAAQ,KAGV,SAAC,KAAQ,CAACC,KAAM,GAAIC,SAAS,SAASO,QAAS,kBAAM7B,GAAQ,UAKvE,C","sources":["modules/package/views/Package/Form.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Form, Row, message } from \"antd\";\r\nimport { Page, FormItem } from \"components\";\r\nimport { postRequest, getRequest, putRequest } from \"api\";\r\nimport { basePackage } from \"api/endpoints\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n\r\nconst PackageForm = () => {\r\n  const navigate = useNavigate();\r\n\r\n  let { packageId } = useParams();\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const [state, setState] = useState({\r\n    loading: false,\r\n    mode: \"NEW\",\r\n    data: {},\r\n  });\r\n\r\n  const breadcrumb = [\r\n    {\r\n      icon: \"IdcardOutlined\",\r\n      href: null,\r\n      text: \"Багцын жагсаалт\",\r\n    },\r\n    {\r\n      icon: \"ApartmentOutlined\",\r\n      href: basePackage.packages,\r\n      text: \"Багцын жагсаалт\",\r\n    },\r\n    {\r\n      icon: \"FormOutlined\",\r\n      href: \"\",\r\n      text: state.mode === \"NEW\" ? \"Багц бүртгэх\" : \"Багц засах\",\r\n    },\r\n  ];\r\n\r\n  const submit = async () => {\r\n    form\r\n      .validateFields()\r\n      .then(async (values) => {\r\n        if (state.mode === \"EDIT\") {\r\n          await putRequest(basePackage.package, values);\r\n        } else {\r\n          await postRequest(basePackage.package, values);\r\n        }\r\n        message.success(\"Мэдээллийг амжилттай хадгаллаа.\");\r\n        // getProduct(values.prodCode);\r\n        navigate(basePackage.packages);\r\n      })\r\n      .catch((err) => {\r\n        setState({ loading: false });\r\n        message.error(err.Message);\r\n      });\r\n  };\r\n\r\n  const getAdmin = async (packageId) => {\r\n    try {\r\n      setState({ loading: true });\r\n      const res = await getRequest(`${basePackage.package}/${packageId}`);\r\n      setState({ mode: \"EDIT\", loading: false, data: res.data });\r\n      form.setFieldsValue(res.data);\r\n    } catch (error) {\r\n      setState({ loading: false });\r\n      message.error(error.Message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (packageId !== \"new\") {\r\n      getAdmin(packageId);\r\n    }\r\n  }, [packageId]);\r\n\r\n  return (\r\n    <Page breadcrumb={breadcrumb}>\r\n      <Form form={form} initialValues={{ packageId: \"\" }} layout=\"vertical\">\r\n        <Row gutter={[16]}>\r\n          <FormItem label=\"Нэр\" name={\"name\"} required span={8} />\r\n          <FormItem label=\"Тайлбар\" name={\"desc\"} required span={8} />\r\n\r\n          <FormItem label=\"Эрэмбэ\" name={\"orderNo\"} required span={8} />\r\n          <FormItem label=\"Зураг\" name={\"img\"} required span={8} />\r\n          <FormItem label=\"Дүн\" name={\"price\"} required span={8} />\r\n\r\n          <FormItem\r\n            span={8}\r\n            itemType=\"select\"\r\n            label=\"Төлөв\"\r\n            name={\"status\"}\r\n            dtsrc={[\r\n              {\r\n                val: \"A\",\r\n                txt: \"Идэвхтэй\",\r\n                orderNo: 1,\r\n                filter: null,\r\n                filter2: null,\r\n              },\r\n              {\r\n                val: \"I\",\r\n                txt: \"Идэвхгүй\",\r\n                orderNo: 2,\r\n                filter: null,\r\n                filter2: null,\r\n              },\r\n            ]}\r\n            required\r\n          />\r\n\r\n          <FormItem span={24} itemType=\"button\" onClick={() => submit()} />\r\n        </Row>\r\n      </Form>\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default PackageForm;\r\n"],"names":["navigate","useNavigate","packageId","useParams","Form","form","useState","loading","mode","data","state","setState","breadcrumb","icon","href","text","basePackage","submit","validateFields","then","values","putRequest","postRequest","message","catch","err","Message","getAdmin","getRequest","res","setFieldsValue","useEffect","initialValues","layout","gutter","label","name","required","span","itemType","dtsrc","val","txt","orderNo","filter","filter2","onClick"],"sourceRoot":""}